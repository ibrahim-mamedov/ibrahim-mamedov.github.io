<!DOCTYPE html>
<html>
  <head>
    <title>Ibrahim Mamedov's github page</title>
  </head>
  <body>
    <h1>TEST TEXT SOMETHING ABOUT FRENCH BREAD</h1>
    <p>BAGUETTE ðŸ˜Ž</p>

<!--<iframe src="https://mozilla.github.io/pdf.js/web/viewer.html?file=https://raw.githubusercontent.com/ibrahim-mamedov/SCI-Fair-Research-Templates/main/Abstract%20Template.pdf" width="100%" height="700"></iframe>-->
<div id="pdf-container" style="overflow: auto; text-align: center; background: #525659; padding: 20px;">
  <canvas id="pdf-render"></canvas>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<script>
  // Configuration
  const PDF_URL = 'https://raw.githubusercontent.com/ibrahim-mamedov/SCI-Fair-Research-Templates/main/Abstract%20Template.pdf';
  const workerUrl = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

  const pdfjsLib = window['pdfjs-dist/build/pdf'];
  pdfjsLib.GlobalWorkerOptions.workerSrc = workerUrl;

  const canvas = document.getElementById('pdf-render');
  const ctx = canvas.getContext('2d');

  // The Fetch Fix for Firefox
  fetch(PDF_URL)
    .then(response => response.arrayBuffer())
    .then(data => {
      return pdfjsLib.getDocument({ data: data }).promise;
    })
    .then(pdf => {
      // Render the first page
      return pdf.getPage(1);
    })
    .then(page => {
      const viewport = page.getViewport({ scale: 1.5 }); // Adjust scale for size
      canvas.height = viewport.height;
      canvas.width = viewport.width;

      const renderContext = {
        canvasContext: ctx,
        viewport: viewport
      };
      page.render(renderContext);
    })
    .catch(err => {
      console.error("Error loading PDF: ", err);
      document.getElementById('pdf-container').innerHTML = "Failed to load PDF. Check console for CORS errors.";
    });
</script>
    
  </body>
</html>
